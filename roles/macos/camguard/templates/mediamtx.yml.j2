# MediaMTX Configuration for CamGuard
# Generated by Ansible for {{ inventory_hostname }}

# General settings
logLevel: info
logDestinations: [file]
logFile: {{ camguard.storage.logs_dir }}/mediamtx.log

# RTSP server settings
rtspAddress: :{{ camguard.streaming.rtsp_port }}

# API settings
api: true
apiAddress: {{ camguard.streaming.server_host }}:9997

# Paths - Define the live stream path
paths:
  {{ camguard.streaming.stream_path }}:
    # Allow publishing from localhost (FFmpeg)
    publishIPs: ["127.0.0.1", "::1"]
    
    # Allow reading from all IPs for Tailscale access
    readIPs: []